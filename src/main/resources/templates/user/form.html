<!DOCTYPE html>
<html lang="ja" xmlns="http://www.w3.org/1999/xhtml"
				xmlns:th="http://www.thymeleaf.org"
				xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
				xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
				layout:decorate="~{partial/layout}">
	<head>
	</head>
	<body>
		<section layout:fragment="contents" th:object="${userForm}">
			<section>
				<h2 th:if="*{isNew}">Create a user</h2>
				<h2 th:unless="*{isNew}">Edit the user</h2>
			</section>
			<section style="text-align:right">
				<a href="#" th:href="@{/users}">Back to the list</a>
			</section>
			<section>
				<form th:action="*{isNew} ? @{/users} : @{/users/{id}(id=*{id})}" th:method="post">
					<input th:unless="*{isNew}" type="hidden" name="id" th:value="*{id}" />
					<div class="rows">
						<div class="row-sbs">
							<div class="col head-col">loginId</div>
							<div th:if="*{isNew}" class="col">
								<input type="text" name="loginId" th:value="*{loginId}"
												th:class="${#fields.hasErrors('loginId')} ? 'with-error' : ''"
												placeholder="ログインID" />
								<p class="error-msg" th:if="${#fields.hasErrors('loginId')}" th:errors="*{loginId}">no!</p>
							</div>
							<div th:unless="*{isNew}" class="col">
								<p th:text="*{loginId}">loginId</p>
								<input type="hidden" name="loginId" th:value="*{loginId}" />
							</div>
						</div>
						<div class="row-sbs">
							<div class="col head-col">password</div>
							<div class="col">
								<input type="password" name="password" th:value="*{password}"
												th:class="${#fields.hasErrors('password')} ? 'with-error' : ''"
												placeholder="パスワード" />
								<p class="input-msg" th:unless="*{isNew}">パスワードを変更しない場合は、未入力のままにしてください。</p>
								<p class="error-msg" th:if="${#fields.hasErrors('password')}" th:errors="*{password}">no!</p>
							</div>
						</div>
						<div class="row-sbs">
							<div class="col head-col">roles</div>
							<div class="col">
								<th:block th:each="role : ${userForm.allRoles}">
									<label>
										<input type="checkbox" name="roles[]" th:value="${role}" th:field="*{roles}" />
										<span th:text="${role}"></span>
									</label>
								</th:block>
								<p class="error-msg" th:if="${#fields.hasErrors('roles')}" th:errors="*{roles}">no!</p>
							</div>
						</div>
					</div>
					<div class="rows">
						<div class="row-sbs">
							<div class="col head-col"></div>
							<div class="col">
								<input class="ope" type="submit" value="Save" />
							</div>
						</div>
					</div>
				</form>
			</section>
		</section>
	</body>
</html>
